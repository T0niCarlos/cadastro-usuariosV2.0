{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';import*as XLSX from'xlsx';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ListaUsuarios(_ref){let{usuarios,onDelete,onExport,onSearch,pesquisa}=_ref;// Função para exportar os dados para XLSX\nconst exportToXLSX=()=>{// Cria uma nova planilha com os dados dos usuários\nconst ws=XLSX.utils.json_to_sheet(usuarios,{header:['id','nome','cpf','dataNascimento','estadoCivil','telefone']});// Adiciona a planilha ao novo livro de trabalho\nconst wb=XLSX.utils.book_new();XLSX.utils.book_append_sheet(wb,ws,'Usuários');// Exporta o livro de trabalho como um arquivo .xlsx\nXLSX.writeFile(wb,'usuarios.xlsx');};return/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Lista de Usu\\xE1rios\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Pesquisar usu\\xE1rio por nome ou CPF...\",value:pesquisa,onChange:onSearch}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nome\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CPF\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Data de Nascimento\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Estado Civil\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Telefone\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PDF\"}),/*#__PURE__*/_jsx(\"th\",{children:\"TXT\"}),/*#__PURE__*/_jsx(\"th\",{children:\"A\\xE7\\xF5es\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:usuarios.length>0?usuarios.map(usuario=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:usuario.id}),/*#__PURE__*/_jsx(\"td\",{children:usuario.nome}),/*#__PURE__*/_jsx(\"td\",{children:usuario.cpf}),/*#__PURE__*/_jsx(\"td\",{children:usuario.dataNascimento}),/*#__PURE__*/_jsx(\"td\",{children:usuario.estadoCivil}),/*#__PURE__*/_jsx(\"td\",{children:usuario.telefone}),/*#__PURE__*/_jsx(\"td\",{children:usuario.arquivoPDF?/*#__PURE__*/_jsx(\"a\",{href:URL.createObjectURL(usuario.arquivoPDF),download:`Usuario_${usuario.nome}.pdf`,children:\"Baixar\"}):'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:usuario.arquivoTXT?/*#__PURE__*/_jsx(\"a\",{href:URL.createObjectURL(usuario.arquivoTXT),download:`Usuario_${usuario.nome}.txt`,children:\"Baixar\"}):'N/A'}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:`/usuario/${usuario.id}`,children:\"Editar\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button-delete\",onClick:()=>onDelete(usuario.id),children:\"Excluir\"})]})]},usuario.id)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"9\",children:\"Nenhum usu\\xE1rio encontrado.\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions\",children:[/*#__PURE__*/_jsx(Link,{to:\"/cadastrar\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Cadastrar Novo Usu\\xE1rio\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onExport('txt'),children:\"Exportar TXT\"}),/*#__PURE__*/_jsx(\"button\",{onClick:exportToXLSX,children:\"Exportar XLSX\"})]})]});}export default ListaUsuarios;","map":{"version":3,"names":["React","Link","XLSX","jsx","_jsx","jsxs","_jsxs","ListaUsuarios","_ref","usuarios","onDelete","onExport","onSearch","pesquisa","exportToXLSX","ws","utils","json_to_sheet","header","wb","book_new","book_append_sheet","writeFile","className","children","type","placeholder","value","onChange","length","map","usuario","id","nome","cpf","dataNascimento","estadoCivil","telefone","arquivoPDF","href","URL","createObjectURL","download","arquivoTXT","to","onClick","colSpan"],"sources":["C:/Users/Toni/Documents/Portfólio/sistema-usuarios/src/components/ListaUsuarios.js"],"sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport * as XLSX from 'xlsx';\r\n\r\nfunction ListaUsuarios({ usuarios, onDelete, onExport, onSearch, pesquisa }) {\r\n  // Função para exportar os dados para XLSX\r\n  const exportToXLSX = () => {\r\n    // Cria uma nova planilha com os dados dos usuários\r\n    const ws = XLSX.utils.json_to_sheet(usuarios, {\r\n      header: ['id', 'nome', 'cpf', 'dataNascimento', 'estadoCivil', 'telefone'],\r\n    });\r\n\r\n    // Adiciona a planilha ao novo livro de trabalho\r\n    const wb = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(wb, ws, 'Usuários');\r\n\r\n    // Exporta o livro de trabalho como um arquivo .xlsx\r\n    XLSX.writeFile(wb, 'usuarios.xlsx');\r\n  };\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <h2>Lista de Usuários</h2>\r\n      <input \r\n        type=\"text\" \r\n        placeholder=\"Pesquisar usuário por nome ou CPF...\" \r\n        value={pesquisa} \r\n        onChange={onSearch} \r\n      />\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>Nome</th>\r\n            <th>CPF</th>\r\n            <th>Data de Nascimento</th>\r\n            <th>Estado Civil</th>\r\n            <th>Telefone</th>\r\n            <th>PDF</th>\r\n            <th>TXT</th>\r\n            <th>Ações</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {usuarios.length > 0 ? usuarios.map((usuario) => (\r\n            <tr key={usuario.id}>\r\n              <td>{usuario.id}</td>\r\n              <td>{usuario.nome}</td>\r\n              <td>{usuario.cpf}</td>\r\n              <td>{usuario.dataNascimento}</td>\r\n              <td>{usuario.estadoCivil}</td>\r\n              <td>{usuario.telefone}</td>\r\n              <td>{usuario.arquivoPDF ? <a href={URL.createObjectURL(usuario.arquivoPDF)} download={`Usuario_${usuario.nome}.pdf`}>Baixar</a> : 'N/A'}</td>\r\n              <td>{usuario.arquivoTXT ? <a href={URL.createObjectURL(usuario.arquivoTXT)} download={`Usuario_${usuario.nome}.txt`}>Baixar</a> : 'N/A'}</td>\r\n              <td>\r\n                <Link to={`/usuario/${usuario.id}`}>Editar</Link>\r\n                <button className=\"button-delete\" onClick={() => onDelete(usuario.id)}>Excluir</button>\r\n              </td>\r\n            </tr>\r\n          )) : <tr><td colSpan=\"9\">Nenhum usuário encontrado.</td></tr>}\r\n        </tbody>\r\n      </table>\r\n      <div className=\"actions\">\r\n        <Link to=\"/cadastrar\">\r\n          <button>Cadastrar Novo Usuário</button>\r\n        </Link>\r\n        <button onClick={() => onExport('txt')}>Exportar TXT</button>\r\n        <button onClick={exportToXLSX}>Exportar XLSX</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ListaUsuarios;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,GAAK,CAAAC,IAAI,KAAM,MAAM,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7B,QAAS,CAAAC,aAAaA,CAAAC,IAAA,CAAuD,IAAtD,CAAEC,QAAQ,CAAEC,QAAQ,CAAEC,QAAQ,CAAEC,QAAQ,CAAEC,QAAS,CAAC,CAAAL,IAAA,CACzE;AACA,KAAM,CAAAM,YAAY,CAAGA,CAAA,GAAM,CACzB;AACA,KAAM,CAAAC,EAAE,CAAGb,IAAI,CAACc,KAAK,CAACC,aAAa,CAACR,QAAQ,CAAE,CAC5CS,MAAM,CAAE,CAAC,IAAI,CAAE,MAAM,CAAE,KAAK,CAAE,gBAAgB,CAAE,aAAa,CAAE,UAAU,CAC3E,CAAC,CAAC,CAEF;AACA,KAAM,CAAAC,EAAE,CAAGjB,IAAI,CAACc,KAAK,CAACI,QAAQ,CAAC,CAAC,CAChClB,IAAI,CAACc,KAAK,CAACK,iBAAiB,CAACF,EAAE,CAAEJ,EAAE,CAAE,UAAU,CAAC,CAEhD;AACAb,IAAI,CAACoB,SAAS,CAACH,EAAE,CAAE,eAAe,CAAC,CACrC,CAAC,CAED,mBACEb,KAAA,QAAKiB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBpB,IAAA,OAAAoB,QAAA,CAAI,sBAAiB,CAAI,CAAC,cAC1BpB,IAAA,UACEqB,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,yCAAsC,CAClDC,KAAK,CAAEd,QAAS,CAChBe,QAAQ,CAAEhB,QAAS,CACpB,CAAC,cACFN,KAAA,UAAAkB,QAAA,eACEpB,IAAA,UAAAoB,QAAA,cACElB,KAAA,OAAAkB,QAAA,eACEpB,IAAA,OAAAoB,QAAA,CAAI,IAAE,CAAI,CAAC,cACXpB,IAAA,OAAAoB,QAAA,CAAI,MAAI,CAAI,CAAC,cACbpB,IAAA,OAAAoB,QAAA,CAAI,KAAG,CAAI,CAAC,cACZpB,IAAA,OAAAoB,QAAA,CAAI,oBAAkB,CAAI,CAAC,cAC3BpB,IAAA,OAAAoB,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBpB,IAAA,OAAAoB,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjBpB,IAAA,OAAAoB,QAAA,CAAI,KAAG,CAAI,CAAC,cACZpB,IAAA,OAAAoB,QAAA,CAAI,KAAG,CAAI,CAAC,cACZpB,IAAA,OAAAoB,QAAA,CAAI,aAAK,CAAI,CAAC,EACZ,CAAC,CACA,CAAC,cACRpB,IAAA,UAAAoB,QAAA,CACGf,QAAQ,CAACoB,MAAM,CAAG,CAAC,CAAGpB,QAAQ,CAACqB,GAAG,CAAEC,OAAO,eAC1CzB,KAAA,OAAAkB,QAAA,eACEpB,IAAA,OAAAoB,QAAA,CAAKO,OAAO,CAACC,EAAE,CAAK,CAAC,cACrB5B,IAAA,OAAAoB,QAAA,CAAKO,OAAO,CAACE,IAAI,CAAK,CAAC,cACvB7B,IAAA,OAAAoB,QAAA,CAAKO,OAAO,CAACG,GAAG,CAAK,CAAC,cACtB9B,IAAA,OAAAoB,QAAA,CAAKO,OAAO,CAACI,cAAc,CAAK,CAAC,cACjC/B,IAAA,OAAAoB,QAAA,CAAKO,OAAO,CAACK,WAAW,CAAK,CAAC,cAC9BhC,IAAA,OAAAoB,QAAA,CAAKO,OAAO,CAACM,QAAQ,CAAK,CAAC,cAC3BjC,IAAA,OAAAoB,QAAA,CAAKO,OAAO,CAACO,UAAU,cAAGlC,IAAA,MAAGmC,IAAI,CAAEC,GAAG,CAACC,eAAe,CAACV,OAAO,CAACO,UAAU,CAAE,CAACI,QAAQ,CAAE,WAAWX,OAAO,CAACE,IAAI,MAAO,CAAAT,QAAA,CAAC,QAAM,CAAG,CAAC,CAAG,KAAK,CAAK,CAAC,cAC7IpB,IAAA,OAAAoB,QAAA,CAAKO,OAAO,CAACY,UAAU,cAAGvC,IAAA,MAAGmC,IAAI,CAAEC,GAAG,CAACC,eAAe,CAACV,OAAO,CAACY,UAAU,CAAE,CAACD,QAAQ,CAAE,WAAWX,OAAO,CAACE,IAAI,MAAO,CAAAT,QAAA,CAAC,QAAM,CAAG,CAAC,CAAG,KAAK,CAAK,CAAC,cAC7IlB,KAAA,OAAAkB,QAAA,eACEpB,IAAA,CAACH,IAAI,EAAC2C,EAAE,CAAE,YAAYb,OAAO,CAACC,EAAE,EAAG,CAAAR,QAAA,CAAC,QAAM,CAAM,CAAC,cACjDpB,IAAA,WAAQmB,SAAS,CAAC,eAAe,CAACsB,OAAO,CAAEA,CAAA,GAAMnC,QAAQ,CAACqB,OAAO,CAACC,EAAE,CAAE,CAAAR,QAAA,CAAC,SAAO,CAAQ,CAAC,EACrF,CAAC,GAZEO,OAAO,CAACC,EAab,CACL,CAAC,cAAG5B,IAAA,OAAAoB,QAAA,cAAIpB,IAAA,OAAI0C,OAAO,CAAC,GAAG,CAAAtB,QAAA,CAAC,+BAA0B,CAAI,CAAC,CAAI,CAAC,CACxD,CAAC,EACH,CAAC,cACRlB,KAAA,QAAKiB,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtBpB,IAAA,CAACH,IAAI,EAAC2C,EAAE,CAAC,YAAY,CAAApB,QAAA,cACnBpB,IAAA,WAAAoB,QAAA,CAAQ,2BAAsB,CAAQ,CAAC,CACnC,CAAC,cACPpB,IAAA,WAAQyC,OAAO,CAAEA,CAAA,GAAMlC,QAAQ,CAAC,KAAK,CAAE,CAAAa,QAAA,CAAC,cAAY,CAAQ,CAAC,cAC7DpB,IAAA,WAAQyC,OAAO,CAAE/B,YAAa,CAAAU,QAAA,CAAC,eAAa,CAAQ,CAAC,EAClD,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAjB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}